{"version":3,"sources":["components/helperfunctions/HelperFunctions.jsx","components/queryview/QueryView.jsx","components/header/Header.jsx","components/footer/Footer.jsx","components/Main.js","serviceWorker.js","index.js"],"names":["postJSONData","url","postData","fetch","method","body","JSON","stringify","headers","then","response","status","json","data","console","log","catch","err","Promise","reject","d3","domain","range","QueryView","props","sizeOptions","id","text","value","type","qaModelOptions","highlightSpanOptions","chunkStrideOptions","datasetOptions","selectedSize","selectedQaModel","selectedHighlightSpan","selectedChunkStride","selectedDataset","state","apptitle","passages","hits","answers","passageIsLoading","answerIsLoading","errorStatus","showAdvancedConfig","showSearchConfig","resultSize","qaModelName","highlightSpan","chunkStride","dataset","sampleQA","question","context","selectedSampleIndex","serverBasePath","passageEndpoint","answerEndpoint","interfaceTimedDelay","maxStatusElasped","this","askQuestion","setState","searchText","document","getElementById","contextText","size","contexttext","searchtext","highlightspan","modelname","stride","getPassages","getAnswers","lastAsked","Date","self","setTimeout","e","keyCode","target","getAttribute","selectedItem","resetAnswer","loadingStatus","passageList","map","index","dataTitle","undefined","highlight","_source","name","caseHighlight","className","key","dangerouslySetInnerHTML","__html","fields","opinion_excerpt","answerList","filter","length","answerSubSpan","sub","subindex","answer","took","toFixed","start_probability","end_probability","qaSamples","qindex","onClick","clickSampleQuestion","bind","askedElapsed","configBar","ref","style","zIndex","Dropdown","label","items","initialSelectedItem","itemToString","item","onChange","updateConfigParams","href","rel","toggleSearchConfig","toUpperCase","TextInput","defaultValue","hideLabel","labelText","onKeyDown","inputKeyPress","placeholder","Button","askQuestionButtonClick","TextArea","opacity","width","Loading","active","small","withOverlay","Component","Header","appName","appDescription","aria-label","process","src","alt","exact","to","Footer","history","createBrowserHistory","basename","forceRefresh","keyLength","getUserConfirmation","message","callback","window","confirm","listen","location","linkHolder","updateLh","hash","Main","path","component","Boolean","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister","error"],"mappings":"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","file":"static/js/main.67c6b2ac.chunk.js","sourcesContent":["\n\nimport * as d3 from \"d3\"\n\nexport function abbreviateString(value, maxLength) {\n    if (value.length <= maxLength) {\n        return value\n    } else {\n        let retval = value.substring(0, maxLength) + \"..\"\n        return retval\n    }\n}\n\n\nfunction intlFormat(num) {\n    return new Intl.NumberFormat().format(Math.round(num * 10) / 10);\n}\nexport function makeFriendly(num) {\n    if (num < 1 && num > 0) {\n        return num\n    }\n    if (Math.abs(num) >= 1000000)\n        return intlFormat(num / 1000000) + 'M';\n    if (Math.abs(num) >= 1000)\n        return intlFormat(num / 1000) + 'k';\n    return intlFormat(num);\n}\n\nexport function getJSONData(url) {\n    return fetch(url).then(function (response) {\n        if (response.status !== 200) {\n            console.log('Looks like there was a problem. Status Code: ' + response.status);\n            return;\n        }\n        return response.json().then(function (data) {\n            return data\n        });\n    }).catch(function (err) {\n        return Promise.reject(err)\n    });\n}\n\n\nexport function postJSONData(url, postData) {\n    return fetch(url, {\n        method: \"post\",\n        body: JSON.stringify(postData),\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    }).then(function (response) {\n        if (response.status !== 200) {\n            console.log('Looks like there was a problem. Status Code: ' + response.status);\n            return;\n        }\n        return response.json().then(function (data) {\n            return data\n        });\n    }).catch(function (err) {\n        return Promise.reject(err)\n    });\n}\n\nexport function SampleQA() {\n    let questions = [\n        { question: \"what is the goal of the fourth amendment?  \", context: \"The Fourth Amendment of the U.S. Constitution provides that '[t]he right of the people to be secure in their persons, houses, papers, and effects, against unreasonable searches and seizures, shall not be violated, and no Warrants shall issue, but upon probable cause, supported by Oath or affirmation, and particularly describing the place to be searched, and the persons or things to be seized.'The ultimate goal of this provision is to protect people’s right to privacy and freedom from unreasonable intrusions by the government. However, the Fourth Amendment does not guarantee protection from all searches and seizures, but only those done by the government and deemed unreasonable under the law.\" },\n        { question: \"Who was the first woman to serve on the supreme court in America\", context: \"Sandra Day O’Connor, née Sandra Day, (born March 26, 1930, El Paso, Texas, U.S.), associate justice of the Supreme Court of the United States from 1981 to 2006. She was the first woman to serve on the Supreme Court. A moderate conservative, she was known for her dispassionate and meticulously researched opinions. Sandra Day grew up on a large family ranch near Duncan, Arizona. She received undergraduate (1950) and law (1952) degrees from Stanford University, where she met the future chief justice of the United States William Rehnquist. Upon her graduation she married a classmate, John Jay O’Connor III. Unable to find employment in a law firm because she was a woman—despite her academic achievements, one firm offered her a job as a secretary—she became a deputy district attorney in San Mateo county, California\" },\n        { question: \"Where did Sandra day grow up?\", context: \"Sandra Day O’Connor, née Sandra Day, (born March 26, 1930, El Paso, Texas, U.S.), associate justice of the Supreme Court of the United States from 1981 to 2006. She was the first woman to serve on the Supreme Court. A moderate conservative, she was known for her dispassionate and meticulously researched opinions. Sandra Day grew up on a large family ranch near Duncan, Arizona. She received undergraduate (1950) and law (1952) degrees from Stanford University, where she met the future chief justice of the United States William Rehnquist. Upon her graduation she married a classmate, John Jay O’Connor III. Unable to find employment in a law firm because she was a woman—despite her academic achievements, one firm offered her a job as a secretary—she became a deputy district attorney in San Mateo county, California\" },\n        { question: \"What school did Sandra day attend?\", context: \"Sandra Day O’Connor, née Sandra Day, (born March 26, 1930, El Paso, Texas, U.S.), associate justice of the Supreme Court of the United States from 1981 to 2006. She was the first woman to serve on the Supreme Court. A moderate conservative, she was known for her dispassionate and meticulously researched opinions. Sandra Day grew up on a large family ranch near Duncan, Arizona. She received undergraduate (1950) and law (1952) degrees from Stanford University, where she met the future chief justice of the United States William Rehnquist. Upon her graduation she married a classmate, John Jay O’Connor III. Unable to find employment in a law firm because she was a woman—despite her academic achievements, one firm offered her a job as a secretary—she became a deputy district attorney in San Mateo county, California\" },\n        { question: \"what is the taj mahal made of?\", context: \"The Taj Mahal is an ivory-white marble mausoleum on the southern bank of the river Yamuna in the Indian city of Agra. It was commissioned in 1632 by the Mughal emperor Shah Jahan (reigned from 1628 to 1658) to house the tomb of his favourite wife, Mumtaz Mahal; it also houses the tomb of Shah Jahan himself. The tomb is the centrepiece of a 17-hectare (42-acre) complex, which includes a mosque and a guest house, and is set in formal gardens bounded on three sides by a crenellated wall. Construction of the mausoleum was essentially completed in 1643, but work continued on other phases of the project for another 10 years. The Taj Mahal complex is believed to have been completed in its entirety in 1653 at a cost estimated at the time to be around 32 million rupees, which in 2020 would be approximately 70 billion rupees (about U.S. $916 million). The construction project employed some 20,000 artisans under the guidance of a board of architects led by the court architect to the emperor. The Taj Mahal was designated as a UNESCO World Heritage Site in 1983 for being the jewel of Muslim art in India and one of the universally admired masterpieces of the world's heritage. It is regarded by many as the best example of Mughal architecture and a symbol of India's rich history. The Taj Mahal attracts 7–8 million visitors a year and in 2007, it was declared a winner of the New 7 Wonders of the World (2000–2007) initiative.\" },\n        { question: \"what was the cost for building the taj mahal?\", context: \"The Taj Mahal is an ivory-white marble mausoleum on the southern bank of the river Yamuna in the Indian city of Agra. It was commissioned in 1632 by the Mughal emperor Shah Jahan (reigned from 1628 to 1658) to house the tomb of his favourite wife, Mumtaz Mahal; it also houses the tomb of Shah Jahan himself. The tomb is the centrepiece of a 17-hectare (42-acre) complex, which includes a mosque and a guest house, and is set in formal gardens bounded on three sides by a crenellated wall. Construction of the mausoleum was essentially completed in 1643, but work continued on other phases of the project for another 10 years. The Taj Mahal complex is believed to have been completed in its entirety in 1653 at a cost estimated at the time to be around 32 million rupees, which in 2020 would be approximately 70 billion rupees (about U.S. $916 million). The construction project employed some 20,000 artisans under the guidance of a board of architects led by the court architect to the emperor. The Taj Mahal was designated as a UNESCO World Heritage Site in 1983 for being the jewel of Muslim art in India and one of the universally admired masterpieces of the world's heritage. It is regarded by many as the best example of Mughal architecture and a symbol of India's rich history. The Taj Mahal attracts 7–8 million visitors a year and in 2007, it was declared a winner of the New 7 Wonders of the World (2000–2007) initiative.\" },\n        { question: \"Who ruled macedonia \", context: \"Macedonia was an ancient kingdom on the periphery of Archaic and Classical Greece, and later the dominant state of Hellenistic Greece. The kingdom was founded and initially ruled by the Argead dynasty, followed by the Antipatrid and Antigonid dynasties. Home to the ancient Macedonians, it originated on the northeastern part of the Greek peninsula. Before the 4th century BC, it was a small kingdom outside of the area dominated by the city-states of Athens, Sparta and Thebes, and briefly subordinate to Achaemenid Persia\" },\n        { question: \"what are the symptoms of COVID-19\", context: \"COVID-19 is the infectious disease caused by the most recently discovered coronavirus. This new virus and disease were unknown before the outbreak began in Wuhan, China, in December 2019. The most common symptoms of COVID-19 are fever, tiredness, and dry cough. Some patients may have aches and pains, nasal congestion, runny nose, sore throat or diarrhea. These symptoms are usually mild and begin gradually. Some people become infected but don’t develop any symptoms and don't feel unwell. Most people (about 80%) recover from the disease without needing special treatment. Around 1 out of every 6 people who gets COVID-19 becomes seriously ill and develops difficulty breathing. Older people, and those with underlying medical problems like high blood pressure, heart problems or diabetes, are more likely to develop serious illness. People with fever, cough and difficulty breathing should seek medical attention.\" },\n        { question: \"what other medical conditions make COVID-19 worse?\", context: \"COVID-19 is the infectious disease caused by the most recently discovered coronavirus. This new virus and disease were unknown before the outbreak began in Wuhan, China, in December 2019. The most common symptoms of COVID-19 are fever, tiredness, and dry cough. Some patients may have aches and pains, nasal congestion, runny nose, sore throat or diarrhea. These symptoms are usually mild and begin gradually. Some people become infected but don’t develop any symptoms and don't feel unwell. Most people (about 80%) recover from the disease without needing special treatment. Around 1 out of every 6 people who gets COVID-19 becomes seriously ill and develops difficulty breathing. Older people, and those with underlying medical problems like high blood pressure, heart problems or diabetes, are more likely to develop serious illness. People with fever, cough and difficulty breathing should seek medical attention.\" }\n    ]\n    return questions\n}\n\n\nexport function ColorArray() {\n    let colorArray = [\n        \"#1f78b4\",\n        \"#b2df8a\",\n        \"#33a02c\",\n        \"#fb9a99\",\n        \"#e31a1c\",\n        \"#fdbf6f\",\n        \"#ff7f00\",\n        \"#6a3d9a\",\n        \"#cab2d6\",\n        \"#ffff99\",\n        \"#8fff4f\"\n    ]\n    return colorArray\n}\n\nexport function ColorExplanation(rowMin, rowMax, rowValue) {\n    let color = d3.scaleQuantize()\n        .domain([rowMin, rowMax])\n        .range(['#d6604d',\n            '#f4a582',\n            '#fddbc7',\n            '#f7f7f7',\n            '#d1e5f0',\n            '#92c5de',\n            '#4393c3']);\n    return color(rowValue)\n}\n\nexport function ColorArrayRGB() {\n    let colorArray = [\n        [141, 211, 199],\n        [255, 255, 179],\n        [190, 186, 218],\n        [251, 128, 114],\n        [128, 177, 211],\n        [253, 180, 98],\n        [179, 222, 105],\n        [252, 205, 229],\n        [188, 128, 189],\n        [204, 235, 197],\n    ]\n    return colorArray\n}\nexport const explanationColor = d3.scaleQuantize()\n    .domain([-0.5, 0.8])\n    .range([\n        '#4393c3', '#92c5de', '#d1e5f0', '#f7f7f7', '#fddbc7', '#f4a582', '#d6604d'\n    ]);\nexport const probabilityColor = d3.scaleQuantize()\n    .domain([0, 0.8])\n    .range([\n        '#4393c3', '#92c5de', '#d1e5f0', '#f7f7f7', '#fddbc7', '#f4a582', '#d6604d'\n    ]);\n","/**\n * @license\n * Copyright 2019 Fast Forward Labs.  \n * Written by / Contact : https://github.com/victordibia\n * CaseQA - CaseQA: Question Answering on Large Datasets with BERT.\n * Licensed under the MIT License (the \"License\"); \n * =============================================================================\n */\n\n\nimport React, { Component } from \"react\";\nimport { Button, TextInput, TextArea, Loading, Dropdown } from 'carbon-components-react';\nimport { postJSONData, SampleQA } from \"../helperfunctions/HelperFunctions\"\nimport \"./queryview.css\"\n\n// const { Table, TableHead, TableHeader, TableBody, TableCell, TableRow } = DataTable;\n\n\nclass QueryView extends Component {\n    constructor(props) {\n        super(props)\n\n        // Advanced options\n        this.sizeOptions = [{ id: \"opt1\", text: \"5\", value: 5, type: \"size\" }, { id: \"opt2\", text: \"10\", value: 10, type: \"size\" }]\n        this.qaModelOptions = [{ id: \"opt1\", text: \"DistilBert SQUAD2\", value: \"distilbertcasedsquad2\", type: \"model\" }, { id: \"opt2\", text: \"BERT SQUAD2\", value: \"bertcasedsquad2\", type: \"model\" }]\n        this.highlightSpanOptions = [{ id: \"opt4\", text: \"150\", value: 150, type: \"highlight\" }, { id: \"opt1\", text: \"450\", value: 450, type: \"highlight\" }, { id: \"opt2\", text: \"650\", value: 650, type: \"highlight\" }, { id: \"opt3\", text: \"850\", value: 850, type: \"highlight\" }]\n        this.chunkStrideOptions = [{ id: \"opt1\", text: \"0\", value: 0, type: \"stride\" }, { id: \"opt2\", text: \"50\", value: 50, type: \"stride\" }, { id: \"opt3\", text: \"100\", value: 100, type: \"stride\" }, { id: \"opt4\", text: \"300\", value: 300, type: \"stride\" }]\n        this.datasetOptions = [{ id: \"opt1\", text: \"Case Law\", value: \"caselaw\", type: \"dataset\" }, { id: \"opt2\", text: \"Manual\", value: \"manual\", type: \"dataset\" }]\n\n        this.selectedSize = 0\n        this.selectedQaModel = 0\n        this.selectedHighlightSpan = 0\n        this.selectedChunkStride = 0\n        this.selectedDataset = 1\n\n        this.state = {\n            apptitle: \"NeuralQA\",\n            passages: { \"took\": 0, hits: { hits: [] } },\n            answers: { \"took\": 0, answers: [] },\n            passageIsLoading: false,\n            answerIsLoading: false,\n            errorStatus: \"\",\n            showAdvancedConfig: true,\n            showSearchConfig: false,\n            resultSize: this.sizeOptions[this.selectedSize].value,\n            qaModelName: this.qaModelOptions[this.selectedQaModel].value,\n            highlightSpan: this.highlightSpanOptions[this.selectedHighlightSpan].value,\n            chunkStride: this.chunkStrideOptions[this.selectedChunkStride].value,\n            dataset: this.datasetOptions[this.selectedDataset].value,\n            sampleQA: SampleQA(),\n            selectedSampleIndex: 0\n        }\n\n        this.serverBasePath = \"http://localhost:3008\"\n        this.passageEndpoint = \"/passages\"\n        this.answerEndpoint = \"/answer\"\n        this.interfaceTimedDelay = 400\n\n        this.maxStatusElasped = 6  // Remove error/status msgs after 4 secs\n\n    }\n\n    componentDidMount() {\n        this.askQuestion()\n\n    }\n\n    resetAnswer() {\n        this.setState({\n            passages: { \"took\": 0, hits: { hits: [] } },\n            answers: { \"took\": 0, answers: [] },\n            errorStatus: \"\"\n        })\n    }\n\n    askQuestion() {\n        let searchText = document.getElementById(\"questioninput\").value\n        let contextText = document.getElementById(\"contextinput\") ? document.getElementById(\"contextinput\").value : null\n        let postData = {\n            size: this.state.resultSize,\n            contexttext: contextText || this.state.sampleQA[0].context,\n            searchtext: searchText || this.state.sampleQA[0].context,\n            highlightspan: this.state.highlightSpan,\n            modelname: this.state.qaModelName,\n            dataset: this.state.dataset,\n            stride: this.state.chunkStride\n        }\n        if (this.state.dataset !== \"manual\") {\n            this.getPassages(postData)\n        }\n\n        this.getAnswers(postData)\n        this.lastAsked = new Date();\n    }\n\n    getAnswers(postData) {\n        // this.setState({ answers: { \"took\": 0, answers: [] } })\n        let self = this\n        this.setState({ answerIsLoading: true })\n        let answerUrl = this.serverBasePath + this.answerEndpoint\n\n        let answers = postJSONData(answerUrl, postData)\n        answers.then((data) => {\n            if (data) {\n                this.setState({ answers: data, errorStatus: \"\" })\n                setTimeout(() => {\n                    this.setState({ answerIsLoading: false })\n                }, this.interfaceTimedDelay);\n            }\n        })\n            .catch(function (err) {\n                console.log('Fetch Error :-S', err);\n                self.setState({ answerIsLoading: false, errorStatus: \"Failed to fetch answer. Answer server may need to be restarted.\" })\n            });\n    }\n\n    getPassages(postData) {\n        let self = this\n        this.setState({ passageIsLoading: true })\n        let passageUrl = this.serverBasePath + this.passageEndpoint\n\n        let passages = postJSONData(passageUrl, postData)\n        passages.then((data) => {\n            if (data) {\n                this.setState({ passages: data })\n                // console.log(Object.keys(data));\n                setTimeout(() => {\n                    this.setState({ passageIsLoading: false })\n                }, this.interfaceTimedDelay);\n            }\n        })\n            .catch(function (err) {\n                console.log('Fetch Error :-S', err);\n                self.setState({ passageIsLoading: false, errorStatus: \"Failed to fetch passages. Passage server may need to be restarted.\" })\n            });\n    }\n\n    askQuestionButtonClick(e) {\n        this.askQuestion()\n    }\n\n    inputKeyPress(e) {\n        if (e.keyCode === 13) {\n            this.askQuestion()\n        }\n    }\n\n    toggleAdvancedOptions(e) {\n        this.setState({ showAdvancedConfig: !(this.state.showAdvancedConfig) })\n    }\n\n    toggleSearchConfig(e) {\n        this.setState({ showSearchConfig: !(this.state.showSearchConfig) })\n\n    }\n\n    clickSampleQuestion(e) {\n        this.setState({\n            passages: { \"took\": 0, hits: { hits: [] } },\n            answers: { \"took\": 0, answers: [] },\n            selectedSampleIndex: e.target.getAttribute(\"qindex\")\n        }, () => {\n            this.askQuestion()\n        })\n\n\n    }\n\n    updateConfigParams(e) {\n        switch (e.selectedItem.type) {\n            case \"size\":\n                this.setState({ resultSize: e.selectedItem.value })\n                break\n            case \"model\":\n                this.setState({ qaModelName: e.selectedItem.value })\n                break\n            case \"stride\":\n                this.setState({ chunkStride: e.selectedItem.value })\n                break\n            case \"highlight\":\n                this.setState({ highlightSpan: e.selectedItem.value })\n                break\n            case \"dataset\":\n                this.setState({ dataset: e.selectedItem.value })\n                break\n\n            default:\n                break\n        }\n        this.resetAnswer()\n    }\n\n\n\n    render() {\n\n        let loadingStatus = this.state.passageIsLoading || this.state.answerIsLoading;\n        // Create a list view for passages\n        let passageList = this.state.passages[\"hits\"][\"hits\"].map((data, index) => {\n            let dataTitle = \"\"\n            if (data.highlight[\"name\"] !== undefined) {\n                for (let title of data.highlight[\"name\"]) {\n                    dataTitle = dataTitle + \" ... \" + title\n                }\n            } else {\n                dataTitle = data._source.name\n            }\n            let caseHighlight = data.highlight[\"casebody.data.opinions.text\"] || \"No highlight.\"\n\n            return (\n                <div className=\"passagerow flex\" key={\"passagerow\" + index}>\n                    <div className=\"answerrowtitletag mr10\"> P{index} </div>\n                    <div className=\"flexfull\">\n                        <div className=\"passagetitle highlightsection lhmedium\" dangerouslySetInnerHTML={{ __html: dataTitle }} />\n\n                        <div className=\"mediumdesc lhmedium passagexcerpt\">\n                            {/* <div className=\"answerrowtitletag mr10\"> P{index} </div> */}\n                            <div className=\"highlightsection underline \" dangerouslySetInnerHTML={{ __html: \"... \" + caseHighlight + \" ... \" }} />\n                            {/* <div className=\"pb5\"> {data.highlight[\"casebody.data.opinions.text\"]}</div> */}\n                            <div className=\"pt5\"> <span className=\"excerpttitle\"> Case Excerpt: </span> {data.fields.opinion_excerpt} ... </div>\n                        </div>\n                    </div>\n                </div>\n            )\n        })\n\n        // Create list view for answers\n        let answerList = this.state.answers.answers\n            .filter((data) => {\n                if (data.length > 0) {\n                    return true\n                } else {\n                    return false\n                }\n            })\n            .map((data, index) => {\n                let answerSubSpan = data.map((sub, subindex) => {\n                    return (\n                        <div className={\"answersubrow \" + (data.length > 1 ? \" underline \" : \"\")} key={\"answersubrow\" + subindex}>\n                            <span className=\"answerquote\">&#8220;</span> {sub.answer} <span className=\"pt10 answerquote\">&#8221;</span>\n                            <div className=\"smalldesc pt5\">\n                                Time: {sub.took.toFixed(3)}s | Probability {((sub.start_probability * 1 + sub.end_probability * 1) / 2).toFixed(4)} [  {((sub.start_probability * 1) / 2).toFixed(4)} | {((sub.end_probability * 1) / 2).toFixed(4)} ]\n                            </div>\n                        </div>\n                    )\n                })\n                return (\n                    <div className=\"flex  p10 answerrow\" key={\"answerrow\" + index}>\n                        <div className=\"answerrowtitletag mr10\"> A{index} </div>\n                        <div className=\"flexfull\"> {answerSubSpan}</div>\n                    </div>\n                )\n            })\n\n        // Create sample qa passages for manual QA\n        let qaSamples = this.state.sampleQA.map((data, index) => {\n            return (\n                <div qindex={index} onClick={this.clickSampleQuestion.bind(this)} key={\"qasample\" + index} className={\"samplequestionrow mediumdesc clickable iblock \" + (this.state.selectedSampleIndex + \"\" === index + \"\" ? \" selected \" : \" \")}>\n                    {data.question}\n                </div>\n            )\n        })\n\n        let askedElapsed = (new Date() - this.lastAsked) / 1000 > this.maxStatusElasped;\n\n        // Create configuration bar\n        let configBar = (\n            <div ref=\"modelconfigbar\" style={{ zIndex: 100 }} className={\"w100 unselectable greyhighlight   modelconfigbar \"}>\n\n                <div className=\"underline p10\">\n                    {<div className=\"smallblueball pulse iblock\"></div>}\n                    Select QA model configuration.\n                </div>\n                <div className=\"w100  displayblock   p10\">\n\n                    <div className=\"  iblock mr10\">\n                        <div className=\"mediumdesc pb7 pt5\"> Dataset <span className=\"boldtext\"> {this.state.dataset} </span> </div>\n                        <Dropdown\n                            id=\"datasetdropdown\"\n                            label=\"Dataset\"\n                            items={this.datasetOptions}\n                            initialSelectedItem={this.datasetOptions[this.selectedDataset]}\n                            itemToString={item => (item ? item.text : \"\")}\n                            onChange={this.updateConfigParams.bind(this)}\n                        />\n                    </div>\n\n\n\n\n                    <div className=\"pl10 borderleftdash iblock mr10\">\n                        <div className=\"mediumdesc pb7 pt5\"> QA Model <span className=\"boldtext\"> {this.state.qaModelName} </span> </div>\n                        <Dropdown\n                            id=\"qamodeldropdown\"\n                            label=\"QA Model\"\n                            items={this.qaModelOptions}\n                            initialSelectedItem={this.qaModelOptions[0]}\n                            itemToString={item => (item ? item.text : \"\")}\n                            onChange={this.updateConfigParams.bind(this)}\n                        />\n                    </div>\n\n\n\n                    <div className=\"iblock mr10\">\n                        <div className=\"mediumdesc pb7 pt5\"> Token Stride <span className=\"boldtext\"> {this.state.chunkStride} </span> </div>\n                        <Dropdown\n                            id=\"stridedropdown\"\n                            label=\"Token Stride\"\n                            items={this.chunkStrideOptions}\n                            initialSelectedItem={this.chunkStrideOptions[0]}\n                            itemToString={item => (item ? item.text : \"\")}\n                            onChange={this.updateConfigParams.bind(this)}\n                        />\n                    </div>\n\n                    {/* show IR search pipeline config is dataset is not manual  */}\n                    {this.state.dataset !== \"manual\" && <div className=\"pl10 borderleftdash iblock mr10 \">\n                        <div className=\"mediumdesc pb7 pt5\">IR Result Size <span className=\"boldtext\"> {this.state.resultSize} </span> </div>\n                        <Dropdown\n                            id=\"sizedropdown\"\n                            label=\"Result Size\"\n                            items={this.sizeOptions}\n                            initialSelectedItem={this.sizeOptions[0]}\n                            itemToString={item => (item ? item.text : \"\")}\n                            onChange={this.updateConfigParams.bind(this)}\n                        />\n                    </div>}\n\n                    {this.state.dataset !== \"manual\" && <div className=\"iblock mr10 \">\n                        <div className=\"mediumdesc pb7 pt5\"> IR Highlight Span <span className=\"boldtext\"> {this.state.highlightSpan} </span> </div>\n                        <Dropdown\n                            id=\"highlighdropdown\"\n                            label=\"Highlight Span\"\n                            items={this.highlightSpanOptions}\n                            initialSelectedItem={this.highlightSpanOptions[0]}\n                            itemToString={item => (item ? item.text : \"\")}\n                            onChange={this.updateConfigParams.bind(this)}\n                        />\n                    </div>}\n\n\n                </div>\n\n            </div>\n        )\n\n        return (\n            <div>\n                <div className=\"mynotif mt10 h100 lh10  lightbluehightlight maxh16  mb10\">\n                    <div className=\"boldtext mb5\">{this.state.apptitle}:  Question Answering on Large Datasets</div>\n                    {this.state.apptitle} is an interactive tool for question answering (passage retrieval + document reading).\n                    You can manually provide a passage or select a dataset to search from\n                    (e.g. <a href=\"http://case.law\" rel=\"noopener noreferrer\" target=\"_blank\">case.law</a> ) dataset under the QA configuration settings below.\n\n                    To begin, type in a question query below.\n\n                </div>\n\n                <div className={\" mb10\" + (this.state.showAdvancedConfig ? \"\" : \" displaynone\")}>\n\n                    {/* config panel and content */}\n                    <div onClick={this.toggleSearchConfig.bind(this)} className=\"unselectable mt10 p10 clickable  flex greymoreinfo\">\n                        <div className=\"iblock flexfull minwidth485\">\n                            <strong> {!this.state.showSearchConfig && <span>&#x25BC;  </span>} {this.state.showSearchConfig && <span>&#x25B2;  </span>} </strong>\n                            QA Configuration\n                            </div>\n                        <div className=\"iblock   \">\n                            <div className=\"iblock mr5\"> <span className=\"boldtext\"> </span></div>\n                            <div className=\"iblock\">\n                                <div className=\"smalldesc\"> {this.state.resultSize} Results | {this.state.qaModelName.toUpperCase()} </div>\n                            </div>\n                        </div>\n\n                    </div>\n\n                    {<div className={\"flex underline p10 modelconfigdiv w100  \" + (this.state.showSearchConfig ? \"\" : \" displaynone\")} >\n                        {/* <div> Advanced configuration settings </div> */}\n                        <div className=\"w100\"> {configBar}</div>\n                    </div>}\n                </div>\n\n                {this.state.dataset === \"manual\" &&\n                    <div className=\" mb10\">\n                        <div className=\"smalldesc p5\"> Select any sample question/passage pair below </div>\n                        {qaSamples}\n                    </div>\n                }\n                <div className=\"mt5 mb10 mediumdesc\"> Enter question </div>\n                <div className=\"flex searchbar\">\n\n                    <div key={\"questioninput\" + this.state.selectedSampleIndex} className=\"flexfull\">\n                        <TextInput\n                            id=\"questioninput\"\n                            defaultValue={this.state.sampleQA[this.state.selectedSampleIndex].question}\n                            hideLabel={true}\n                            labelText=\"Hi there\"\n                            onKeyDown={this.inputKeyPress.bind(this)}\n                            placeholder=\"Enter question. e.g. Which cases cite dwayne vs the united states.\"\n                        >\n                        </TextInput>\n                    </div>\n\n                    <div> <Button\n\n                        onClick={this.askQuestionButtonClick.bind(this)}\n                        size=\"field\"> Get Answer </Button>\n                    </div>\n                </div>\n\n\n\n                {/* {this.state.sampleQA[this.state.selectedSampleIndex].context} */}\n\n                {this.state.dataset === \"manual\" &&\n                    <div key={\"contexttextarea\" + this.state.selectedSampleIndex} className=\"mt10\">\n                        <div className=\"mt5 mb10 mediumdesc\"> Enter passage </div>\n                        <TextArea\n                            id=\"contextinput\"\n                            className=\"contextinputarea\"\n                            defaultValue={this.state.sampleQA[this.state.selectedSampleIndex].context}\n                            labelText=\"Enter a passage\"\n                            hideLabel={true}\n                        >\n\n                        </TextArea>\n                    </div>\n                }\n\n                <div className=\"mediumdesc pt7 pb7\">\n\n                    {this.state.answerIsLoading && <span> Asking BERT for answers ...   </span>}\n\n                </div>\n                {(!askedElapsed && this.state.errorStatus.length > 1) && <div className=\"errormessage\">{this.state.errorStatus}</div>}\n\n                {answerList.length > 0 &&\n                    <div>\n                        {/* <Loading\n                            active={this.state.answerIsLoading}\n                            description=\"Active loading indicator\" withOverlay={true}\n                        /> */}\n                        <div className=\"flex mt10 \">\n                            <div className=\"loaderbox\" style={{ opacity: (loadingStatus) ? 1 : 0, width: (loadingStatus) ? \"34px\" : \"0px\" }} >\n\n                                <Loading\n                                    className=\" \"\n                                    active={true}\n                                    small={true}\n                                    withOverlay={false}\n                                > </Loading>\n                            </div>\n\n                            <div className=\"flexfull  sectionheading\">\n                                <span className=\"boldtext\">  BERT Answer Results</span>\n                                {!this.state.answerIsLoading && <span className=\"mediumdesc\"> {answerList.length} item{answerList.length > 1 ? \"s\" : \"\"} | {this.state.answers[\"took\"].toFixed(3)} seconds </span>}\n                            </div>\n                            <div className=\"lh2m\">\n                                {this.state.answerIsLoading && <span className=\"mediumdesc\"> Loading answers ... </span>}\n                            </div>\n                        </div>\n                        <div>{answerList}</div>\n                    </div>\n                }\n\n                {(!askedElapsed && answerList.length === 0 && !(this.state.answerIsLoading)) &&\n                    <div className=\"p10 lightgreyhighlight\">\n                        No answers found.\n                    </div>\n                }\n\n                {passageList.length > 0 &&\n                    <div>\n                        <div className=\"mt10 mb10\">\n                            <span className=\"boldtext\">Passage Query Results </span>\n                            {this.state.passageIsLoading && <span className=\"mediumdesc\"> Loading passages ... </span>}\n                            {!this.state.passageIsLoading && <span className=\"mediumdesc\"> {this.state.passages[\"hits\"][\"hits\"].length} items | {this.state.passages[\"took\"] / 1000} seconds </span>}\n                        </div>\n                        <div className=\"passagebox  mt10\">\n                            {passageList}\n                        </div>\n                    </div>\n                }\n\n                {(!askedElapsed && passageList.length === 0 && this.state.dataset !== \"manual\" && !(this.state.passageIsLoading)) &&\n                    <div className=\"p10 lightgreyhighlight\">\n                        Your query did not match any passages. Try a different query.\n                    </div>\n                }\n\n                {/* {askedElapsed + \"\"} bingo */}\n                <br />\n                <br />\n\n            </div>\n\n        );\n    }\n}\n\nexport default QueryView;","/**\n * @license\n * Copyright 2019 Victor Dibia. https://github.com/victordibia\n * Anomagram - Anomagram: Anomaly Detection with Autoencoders in the Browser.\n * Licensed under the MIT License (the \"License\"); \n * =============================================================================\n */\n\nimport React, { Component } from \"react\";\nimport {\n    NavLink\n} from \"react-router-dom\";\nimport { LogoGithub16 } from '@carbon/icons-react';\n\nimport \"./header.css\"\n\nclass Header extends Component {\n    constructor(props) {\n        super(props)\n\n        this.appName = \"NeuralQA\"\n        this.appDescription = \"Question Answering.\"\n\n\n    }\n    render() {\n        return (\n            <div>\n                <div className=\"headermain\" aria-label={this.appDescription}>\n\n                    <div className=\"container-fluid w100 headerrow pl10 \">\n\n                        <div className=\"flex    h100\">\n                            <div className=\"h100   flex flexjustifycenter mr10 \">\n                                <a href={process.env.PUBLIC_URL + \"/#\"}>\n                                    <img className=\"headericon\" src=\"images/icon.png\" alt=\"anomagram logo\" />\n\n                                </a>\n                            </div>\n                            <div className=\"h100 apptitle  flex flexjustifycenter  mr10\">\n                                <div className=\"whitetext boldtext  iblock mr10\">  {this.appName} </div>\n                            </div>\n                            <div className=\"h100   flex flexjustifycenter  navbarlinks \">\n                                <NavLink exact to=\"/\"> QA </NavLink>\n                            </div>\n                            {/* <div className=\"h100   flex flexjustifycenter  navbarlinks mr10\">\n                                <NavLink exact to=\"/train\"> Experiments</NavLink>\n                            </div> */}\n                            <div className=\"h100   flex flexjustifycenter   navbarlinks mr10\">\n                                <a className=\" dispalyblock h100  \" href=\"https://github.com/victordibia/qa/\" target=\"_blank\" rel=\"noopener noreferrer\">\n                                    <LogoGithub16 className=\" whitefill gitlogo  \"></LogoGithub16>\n                                    <span className=\"gitlogotext\">Git</span><span className=\" apptitle\">hub</span>\n                                </a>\n                            </div>\n                        </div>\n\n                    </div>\n                </div>\n                <div></div>\n                <div className=\"headerboost\">  </div>\n            </div>\n\n        );\n    }\n}\n\nexport default Header;","/**\n * @license\n * Copyright 2019 Fast Forward Labs.  \n * Written by Victor Dibia / Contact : https://github.com/victordibia\n * CaseQA - CaseQA: Question Answering on Large Datasets with BERT.\n * Licensed under the MIT License (the \"License\"); \n * =============================================================================\n */\n\n\nimport React, { Component } from \"react\";\nimport \"./footer.css\"\n\nclass Footer extends Component {\n    render() {\n        return (\n            <div style={{ zIndex: 999000 }} className=\"centerpage pl10\">\n                Made with <span className=\"redcolor\">&#9829;</span> at <a href=\"https://experiments.fastforwardlabs.com/\" target=\"blank\">Cloudera Fast Forward Labs</a>.\n            </div>\n        );\n    }\n}\n\nexport default Footer;","/**\n * @license\n * Copyright 2019 Fast Forward Labs.  \n * Written by Victor Dibia / Contact : https://github.com/victordibia\n * CaseQA - CaseQA: Question Answering on Large Datasets with BERT.\n * Licensed under the MIT License (the \"License\"); \n * =============================================================================\n */\n\n\nimport React, { Component } from \"react\";\nimport {\n    Route,\n    HashRouter,\n\n} from \"react-router-dom\";\n\n\n\n\nimport QueryView from \"./queryview/QueryView\";\nimport Header from \"./header/Header\";\nimport Footer from \"./footer/Footer\"\nimport { createBrowserHistory } from 'history';\n\n\n\nconst history = createBrowserHistory({\n    basename: \"\", // The base URL of the app (see below)\n    forceRefresh: false, // Set true to force full page refreshes\n    keyLength: 6, // The length of location.key\n    // A function to use to confirm navigation with the user (see below)\n    getUserConfirmation: (message, callback) => callback(window.confirm(message))\n});\n\nhistory.listen(location => {\n\n    // console.log(location.pathname, location.hash)\n})\n\nlet linkHolder = {}\n\nfunction updateLh(location) {\n\n    if (location.hash in linkHolder) {\n        linkHolder[location.hash] = linkHolder[location.hash] + 1\n    } else {\n        linkHolder[location.hash] = 0\n    }\n\n}\n\nhistory.listen(location => {\n    updateLh(location)\n});\n\n\nclass Main extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n        }\n        updateLh(window.location)\n    }\n\n    componentDidMount() {\n\n    }\n    render() {\n\n\n        return (\n            <HashRouter>\n                <Header></Header>\n\n                <main className=\"container-fluid p10\">\n                    <Route exact path=\"/\" component={QueryView} />\n                    {/* <Route exact path=\"/train\" component={Train} /> */}\n\n                </main>\n                <div id=\"footer\"> <Footer /> </div>\n            </HashRouter>\n\n        );\n    }\n}\n\nexport default Main;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './components/template.scss';\nimport './components/template.css';\nimport App from './components/Main';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}